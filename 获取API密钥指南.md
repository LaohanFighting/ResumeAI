# OpenAI API 密钥获取详细指南

## 📋 前置准备

1. **邮箱账号**：准备一个有效的邮箱地址（用于注册/登录）
2. **支付方式**：准备一张支持国际支付的信用卡（OpenAI API 是付费服务）
3. **网络**：确保可以访问 OpenAI 官网（可能需要科学上网）

---

## 🚀 详细步骤

### 步骤 1：访问 OpenAI 平台

1. 打开浏览器，访问：**https://platform.openai.com**
2. 或者直接访问 API Keys 页面：**https://platform.openai.com/api-keys**

### 步骤 2：注册/登录账号

#### 如果是新用户（注册）：
1. 点击页面右上角的 **"Sign up"**（注册）按钮
2. 选择注册方式：
   - **使用邮箱注册**：输入邮箱地址和密码
   - **使用 Google 账号**：点击 "Continue with Google"
   - **使用 Microsoft 账号**：点击 "Continue with Microsoft"
3. 验证邮箱（如果使用邮箱注册）
4. 完成注册流程

#### 如果是老用户（登录）：
1. 点击页面右上角的 **"Log in"**（登录）按钮
2. 输入邮箱和密码，或使用第三方账号登录

### 步骤 3：添加支付方式（首次使用需要）

⚠️ **重要**：OpenAI API 是付费服务，需要先添加支付方式才能使用。

1. 登录后，点击右上角的头像或用户名
2. 选择 **"Billing"**（账单）或 **"Settings"**（设置）
3. 点击 **"Payment methods"**（支付方式）
4. 添加信用卡信息：
   - 卡号
   - 有效期
   - CVV 安全码
   - 持卡人姓名
   - 账单地址
5. 确认添加

**注意**：
- OpenAI 通常有免费额度（约 $5），新用户可以先使用免费额度测试
- 使用量超过免费额度后才会收费
- 可以设置使用限额，避免意外高额费用

### 步骤 4：创建 API 密钥

1. **进入 API Keys 页面**：
   - 方法1：直接访问 https://platform.openai.com/api-keys
   - 方法2：点击左侧菜单的 **"API keys"**
   - 方法3：点击右上角头像 → **"View API keys"**

2. **创建新密钥**：
   - 点击页面上的 **"+ Create new secret key"** 按钮
   - 或者点击 **"Create new secret key"** 链接

3. **命名密钥（可选）**：
   - 在弹出的对话框中，可以给密钥起个名字
   - 例如："Resume Generator"、"My Project" 等
   - 也可以留空，使用默认名称

4. **创建并复制密钥**：
   - 点击 **"Create secret key"** 按钮
   - ⚠️ **重要**：密钥会立即显示，格式类似：
     ```
     sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
     ```
   - **立即复制密钥**（点击复制按钮或手动选择复制）
   - ⚠️ **警告**：关闭对话框后，**无法再次查看完整密钥**
   - 如果忘记保存，需要删除旧密钥并创建新的

### 步骤 5：保存密钥到项目

1. **打开项目中的 `.env` 文件**：
   - 路径：`backend/.env`

2. **替换占位符**：
   - 找到这一行：`OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxx`
   - 将 `sk-proj-xxxxxxxxxxxxxxxxxxxxx` 替换为你刚才复制的真实密钥
   - 确保格式正确：`OPENAI_API_KEY=sk-proj-你的真实密钥`

3. **保存文件**：
   - 保存 `.env` 文件
   - 确保没有多余的空格或引号

---

## ✅ 验证密钥是否有效

### 方法 1：启动后端服务器测试

1. 在终端运行：
   ```powershell
   python backend\main.py
   ```

2. 如果服务器成功启动并显示：
   ```
   INFO:     Uvicorn running on http://0.0.0.0:8000
   ```
   说明密钥配置正确。

### 方法 2：使用前端测试

1. 打开前端页面
2. 输入测试数据
3. 点击生成按钮
4. 如果成功生成内容，说明密钥有效

---

## 🔒 安全注意事项

1. **不要分享密钥**：
   - 不要将 API 密钥分享给他人
   - 不要将密钥提交到公开的代码仓库（GitHub 等）

2. **密钥已添加到 `.gitignore`**：
   - `.env` 文件应该被 Git 忽略
   - 如果使用 Git，确保 `.gitignore` 包含 `.env`

3. **定期轮换密钥**：
   - 如果怀疑密钥泄露，立即在 OpenAI 平台删除旧密钥
   - 创建新密钥替换

4. **设置使用限额**：
   - 在 OpenAI 平台设置每月使用限额
   - 避免意外产生高额费用

5. **监控使用情况**：
   - 定期查看 OpenAI 平台的使用统计
   - 及时发现异常使用

---

## 🆘 常见问题

### Q1: 密钥格式是什么样的？
**A**: 新版密钥格式：`sk-proj-` + 约 50-60 个字符（字母、数字）
旧版密钥格式：`sk-` + 约 48 个字符

### Q2: 密钥丢失了怎么办？
**A**: 无法恢复，需要：
1. 在 OpenAI 平台删除旧密钥
2. 创建新密钥
3. 更新项目中的 `.env` 文件

### Q3: 免费额度是多少？
**A**: 新用户通常有 $5 免费额度，具体以 OpenAI 平台显示为准。

### Q4: 如何查看使用量和费用？
**A**: 登录 OpenAI 平台 → Billing → Usage，可以查看详细的使用统计和费用。

### Q5: 密钥有使用期限吗？
**A**: 密钥本身没有期限，但可以随时在平台删除。删除后需要创建新密钥。

### Q6: 可以创建多个密钥吗？
**A**: 可以，建议为不同项目创建不同的密钥，便于管理和追踪使用情况。

---

## 📞 获取帮助

如果遇到问题：
1. **OpenAI 官方文档**：https://platform.openai.com/docs
2. **OpenAI 社区支持**：https://community.openai.com
3. **OpenAI 支持邮箱**：通过平台内的 Support 功能联系

---

## ✨ 下一步

获取密钥后：
1. ✅ 将密钥保存到 `backend/.env` 文件
2. ✅ 启动后端服务器：`python backend\main.py`
3. ✅ 打开前端页面测试功能
4. ✅ 开始使用 AI 简历生成器！

祝使用愉快！🎉
